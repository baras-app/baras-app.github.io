---
phase: 02-landing-downloads
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/content/docs/getting-started/installation.md
autonomous: true

must_haves:
  truths:
    - "User can find Windows installation instructions"
    - "User can find macOS installation instructions with quarantine fix"
    - "User can find Linux installation instructions with NVIDIA workaround"
    - "Platform tabs stay synchronized when switching"
  artifacts:
    - path: "src/content/docs/getting-started/installation.md"
      provides: "Platform-specific installation instructions"
      min_lines: 80
      contains: "xattr -dr com.apple.quarantine"
  key_links:
    - from: "src/content/docs/getting-started/installation.md"
      to: "@astrojs/starlight/components"
      via: "Tabs and TabItem imports"
      pattern: "import.*Tabs.*TabItem"
---

<objective>
Create comprehensive installation guide with platform-specific instructions using Starlight's Tabs component, including macOS quarantine fix and Linux NVIDIA workaround.

Purpose: Help users successfully install BARAS on any platform with clear steps and known issue solutions
Output: Complete installation.md with tabbed platform instructions
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-landing-downloads/02-RESEARCH.md

# Research provides installation patterns and known issues
# See: Pattern 3 (Platform Tabs), Code Examples (macOS quarantine, Linux NVIDIA)

@src/content/docs/getting-started/installation.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create tabbed installation guide</name>
  <files>
    src/content/docs/getting-started/installation.md
  </files>
  <action>
Replace the placeholder content in `src/content/docs/getting-started/installation.md` with full installation guide.

Change file extension to `.mdx` to enable component imports (rename to `installation.mdx`).

Structure:
```mdx
---
title: Installation
description: How to install BARAS on Windows, macOS, or Linux
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

BARAS is available for Windows, macOS, and Linux. Choose your platform below for installation instructions.

## Download

Visit the [download section](/#downloads) on the homepage to get the latest version for your platform.

## Installation Steps

<Tabs syncKey="platform">
  <TabItem label="Windows" icon="seti:windows">
    ### Windows Installation

    1. Download `BARAS_x64-setup.exe` from the download section
    2. Run the installer
    3. Follow the installation wizard
    4. Launch BARAS from the Start Menu or desktop shortcut

    :::note
    Windows may show a SmartScreen warning for unsigned apps. Click "More info" then "Run anyway" to proceed.
    :::
  </TabItem>

  <TabItem label="macOS" icon="apple">
    ### macOS Installation

    1. Download `BARAS_aarch64.dmg` (Apple Silicon) from the download section
    2. Open the DMG file
    3. Drag BARAS to the Applications folder
    4. Close the DMG window

    :::caution[Gatekeeper Warning]
    macOS blocks unsigned apps by default. If you see "BARAS cannot be opened because it is from an unidentified developer":

    **Option 1: Right-click method**
    1. Right-click (or Control-click) the BARAS app in Applications
    2. Select "Open" from the menu
    3. Click "Open" in the dialog

    **Option 2: Terminal command**
    ```bash
    xattr -dr com.apple.quarantine /Applications/BARAS.app
    ```
    Then open BARAS normally.
    :::
  </TabItem>

  <TabItem label="Linux" icon="linux">
    ### Linux Installation

    1. Download `BARAS_amd64.AppImage` from the download section
    2. Make the file executable:
       ```bash
       chmod +x BARAS_*.AppImage
       ```
    3. Run the AppImage:
       ```bash
       ./BARAS_*.AppImage
       ```

    :::tip[Desktop Integration]
    For a desktop menu entry, you can use AppImageLauncher or create a `.desktop` file manually.
    :::

    :::caution[NVIDIA GPU Users]
    If you see a blank/white window, this is a known WebKitGTK issue with NVIDIA drivers. Run with:

    ```bash
    WEBKIT_DISABLE_DMABUF_RENDERER=1 ./BARAS_*.AppImage
    ```

    For a permanent fix, create a `.desktop` file with this environment variable:
    ```ini
    [Desktop Entry]
    Name=BARAS
    Exec=env WEBKIT_DISABLE_DMABUF_RENDERER=1 /path/to/BARAS.AppImage
    Type=Application
    Categories=Game;Utility;
    ```
    :::
  </TabItem>
</Tabs>
```

Use Starlight's built-in Aside syntax (:::note, :::tip, :::caution) for callouts.
Use `syncKey="platform"` so tab selection persists across page navigation.
  </action>
  <verify>
`npm run build` succeeds.
File renamed from .md to .mdx.
Tab imports work without errors.
  </verify>
  <done>
installation.mdx exists with:
- Tabs component with Windows/macOS/Linux sections
- syncKey for persistent tab selection
- Step-by-step instructions for each platform
  </done>
</task>

<task type="auto">
  <name>Task 2: Add platform-specific warnings and verify</name>
  <files>
    src/content/docs/getting-started/installation.md
  </files>
  <action>
Verify the installation guide includes all required warnings (should be done in Task 1, this is verification pass):

1. **Windows SmartScreen** - :::note with bypass instructions
2. **macOS Gatekeeper** - :::caution with BOTH methods:
   - Right-click > Open method
   - `xattr -dr com.apple.quarantine /Applications/BARAS.app` command
3. **Linux NVIDIA** - :::caution with:
   - `WEBKIT_DISABLE_DMABUF_RENDERER=1` environment variable
   - .desktop file example for permanent fix

Also add "First Launch" section after installation steps:

```mdx
## First Launch

After installation, launch BARAS. On first run:

1. BARAS will prompt you to select your SWTOR combat log directory
2. The default location is:
   - **Windows:** `Documents\Star Wars - The Old Republic\CombatLogs`
   - **macOS/Linux:** Check your SWTOR installation directory

3. Enable combat logging in SWTOR if not already enabled:
   - In-game: Preferences > Combat Logging > Enable Combat Logging

See the [Quickstart Guide](/guides/quickstart/) for detailed setup instructions.
```

Update sidebar in astro.config.mjs if needed (installation slug may change due to .mdx extension).
  </action>
  <verify>
`npm run build` succeeds.
`npm run dev` - visit /getting-started/installation/:
- Three tabs visible (Windows, macOS, Linux)
- Tab switching works and persists
- macOS tab shows quarantine warning with code block
- Linux tab shows NVIDIA warning with code block
- Code blocks have copy-to-clipboard buttons (Starlight built-in)
  </verify>
  <done>
Installation guide complete with:
- Windows SmartScreen warning (INST-01)
- macOS quarantine fix with both methods (INST-02)
- Linux NVIDIA workaround with desktop file example (INST-03)
- First Launch section pointing to quickstart
All platform warnings prominently displayed using Starlight Aside components.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` produces no errors
2. Installation page accessible at /getting-started/installation/
3. Three platform tabs work correctly
4. Tab selection syncs (switch tab, navigate away, come back - same tab selected)
5. macOS quarantine command is copy-able
6. Linux NVIDIA command is copy-able
7. All Aside callouts render with correct styling (note, tip, caution)
</verification>

<success_criteria>
- Windows installation instructions with SmartScreen note (INST-01)
- macOS installation with quarantine removal steps - BOTH right-click and xattr methods (INST-02)
- Linux installation with NVIDIA workaround and .desktop file example (INST-03)
- Tabs synchronized across page with syncKey
</success_criteria>

<output>
After completion, create `.planning/phases/02-landing-downloads/02-03-SUMMARY.md`
</output>
